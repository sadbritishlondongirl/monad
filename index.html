<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monad Testnet Transaction</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.7.5/web3.min.js"></script>
</head>
<body>
    <script>
        async function switchNetworkAndSendTransaction() {
            if (window.ethereum) {
                const web3 = new Web3(window.ethereum);
                try {
                    // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Å–µ—Ç—å –Ω–∞ Monad Testnet (10143)
                    await ethereum.request({
                        method: 'wallet_switchEthereumChain',
                        params: [{ chainId: '0x279f' }] // 10143 –≤ hex
                    });

                    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
                    const accounts = await web3.eth.getAccounts();
                    if (accounts.length === 0) {
                        alert("üî¥ –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫ MetaMask");
                        return;
                    }

                    const txParams = {
                        from: accounts[0],
                        to: "0xReceiverAddressHere",
                        value: web3.utils.toHex(web3.utils.toWei('0.05', 'ether')),
                        gas: '0x5208'
                    };

                    const txHash = await ethereum.request({
                        method: 'eth_sendTransaction',
                        params: [txParams]
                    });

                    alert("‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞: " + txHash);
                } catch (error) {
                    console.error("–û—à–∏–±–∫–∞:", error);
                    alert("–û—à–∏–±–∫–∞: " + error.message);
                }
            } else {
                alert("üî¥ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ MetaMask");
            }
        }

        switchNetworkAndSendTransaction();
    </script>
</body>
</html>
